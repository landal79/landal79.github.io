{"data":{"site":{"siteMetadata":{"title":"Landal's Code","author":"Alex Landini"}},"markdownRemark":{"id":"0c8aeaa5-4be1-5a73-8c40-ee953879184f","excerpt":"In this blog post I’m going to speak about the best practices to write clean functions. Robert Martin {:target=” blank”} in his  Clean code book {:target…","html":"<p>In this blog post I’m going to speak about the best practices to write clean functions.</p>\n<p><a href=\"https://twitter.com/unclebobmartin\">Robert Martin</a>{:target=”<em>blank”} in his <a href=\"http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882\">Clean code book</a>{:target=”</em>blank”} summarizes the main feature of well written function:</p>\n<ul>\n<li>should be small</li>\n<li>does only one thing</li>\n<li>should be one level of abstraction below the concept represented by the function</li>\n</ul>\n<h3 id=\"small\"><a href=\"#small\" aria-label=\"small permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Small!!</h3>\n<h3 id=\"do-only-one-thing\"><a href=\"#do-only-one-thing\" aria-label=\"do only one thing permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Do only one thing</h3>\n<blockquote>\n<p>FUNCTIONS SHOULD DO ONE THING. THEY SHOULD DO IT WELL.\nTHEY SHOULD DO IT ONLY.</p>\n</blockquote>\n<h3 id=\"single-level-of-abstraction-principle-slap\"><a href=\"#single-level-of-abstraction-principle-slap\" aria-label=\"single level of abstraction principle slap permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Single level of abstraction principle (SLAP)</h3>\n<p>Single Level of Abstraction, by Kent Beck, states that to make code easy to read and understand you shouldn’t use code that are in different levels of abstraction and details in the same method! It’s better to have same level of abstraction for the statements inside a method! In other words, you shouldn’t have a method which mixes low-level details, such as database connectivity management or web services data marshaling with high-level business code.\nLet’s start with a simple example:</p>\n<p>{% gist d26ea4e69bdf8efdd4e4 %}</p>\n<p>Despite the example is very trivial, it serves the purpose.\nThe scope of the function is clear but, it compares two files, but it mixes low level java APIs to read the file content as string, and then it compares two lists of file lines.\nLet’s try to refactor to separate levels of abstraction.</p>\n<p>{% gist da6063ba2eae67e8c2cd %}</p>\n<p>First of all the example violates the <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\">DRY principle</a>, so we do a little refactoring by <a href=\"http://refactoring.com/catalog/extractMethod.html\">extracting a method</a> <code class=\"language-text\">readFileLines</code>. Then we create another method <code class=\"language-text\">compareLines</code>, now the compare contains code at one line level of abstraction, and each function does exatly one thing.</p>\n<h2 id=\"references\"><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>References</h2>\n<ul>\n<li><a href=\"http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882\">Clean code</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\">DRY</a></li>\n<li><a href=\"http://refactoring.com/catalog/extractMethod.html\">extract method</a></li>\n</ul>","frontmatter":{"title":"Clean code: Functions","date":"June 03, 2015","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/clean-code-functions/","previous":{"fields":{"slug":"/clean-code/"},"frontmatter":{"title":"Clean code: a review"}},"next":{"fields":{"slug":"/programming-is-problem-solving/"},"frontmatter":{"title":"Programming is problem solving"}}}}